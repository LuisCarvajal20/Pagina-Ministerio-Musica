

  const cancionesPorCantante = {
    wilson: [
      {
        titulo: "Coritos",   // `
        tono: "A",
        letra:
        `
        //CON MIS MANOS://
        
        Con mis manos y mi vida 
        te alabo señor te alabo señor(bisx2)

        Por que tu haz sido precioso para mi
        precioso para mi precioso para mi

        Por que tu haz sido precioso para mi
        precioso para mi precioso para mi
        te alabo bendito señor

        //ALABARE://

        Alabaré, alabaré, alabaré, alabaré
        Alabaré a mi Señor
        Alabaré, alabaré, alabaré, alabaré
        Alabaré a mi Señor

       // YO TENGO UN AMIGO://

        Yo tengo un amigo que me ama
        Me ama, me ama
        Yo tengo un amigo que me ama
        Su Nombre es Jesús.
        Que me ama, que me ama
        Que me ama, con inmenso amor
        Que me ama, que me ama
        Que me ama, con inmenso amor

       // TE ALABARAN OH SEÑOR TODOS LOS REYES://

        Te alabaran oh señor todos los reyes
        Todos los reyes de la tierra
        por que han oido los dichos de su boca 
        Y cantaran de los caminos del Señor

        Porque la gloria del señor es grande,
        Porque el señor es excelso en su camino,
        Porque el señor atiende al humilde;
        Más mira de lejos al altivo.

        //DEMOS GRACIAS AL SEÑOR://

        Demos gracias al señor
        Demos gracias
        Demos gracias por su amor

        Por las mañanas las aves cantan
        Las alabanzas al Cristo salvador
        Y por las tardes las flores cantan
        Las alabanzas al Cristo salvador

        Y tu amigo por que no cantas
        Las alabanzas al Cristo salvador



        `,
        acordes:`
        con mis manos:
        A-D-E-A
        D-A-Bm-A
        Bm-E-A

        alabare:
        A-D

        yo tengo un amigo:
        A-E

        te alabaran oh señor:
        A-E
        D-A-E

        demos gracias al señor:
        A-D
        
        `,
      },
      {
        titulo: "Tu me sustentas",   //hay que utilizar los backtics para hacer los saltos de linea `
        tono: "A",
        letra: `
        Que mis manos se desgasten tocando para ti
        que mis ojos se desvanescan mirandote a ti
        y que mis pies solo se cansen caminando por ti
        y que mi voz pueda adorarte eternamente (x2bis)

        Rey de reyes señor de señores 
        vida de mi vida 
        sustento de mi amor (x2bis)

        Tu me sustentas rey (x4bis)

        Que manos solos sirvan a ti
        y que mis pies solo caminen por ti 
        y que mi voz solo sea para ti 
        y que todo lo que soy 
        te alabe te alabe y que mis manos
        solo sirvan a ti y que pies solo9 caminen pór ti
        y que mi voz solo sea para ti y que todo los que soy te alabe 

        Rey de reyes señor de señores 
        vida de mi vida 
        sustento de mi amor (x4bis)
         
        Tu me sustentas rey (x4bis)
         `,
        acordes: `
        Intro: A-C#m7-D-Dm (E)
        coro: A-D-E
        Puente:A-F#m-Bm-D-E
        `,
        categorias:["adoracion"]
      },
      {
        titulo: "En tu Presencia",
        tono: "B",
        letra: `verso
        Digno es el cordero de Dios
        De recibir adoración
        De la muerte él nos salvo
        Con su amor él nos libero
        Compraste con tu sangre
        Todo un pueblo para Dios
        
        verso
        
        Tu estas aquí, tu estas qui
        Tu estas aquí, tu estas qui
        Puedo sentir tu corazón
        Latiendo en mí, sanándome
        Puedo sentir tu gran amor
        Entrando en mi cambiándome
        
        coro
        Toda la gloria Jesús
        Poder, riqueza y majestad
        Sentado en el trono celestial
        Bajo sus pies la tierra esta
        Toda la gloria 
        
        De toda raza pueblo y nación
        Tuyo es todo el poder`,
        acordes: `
        Intro:(F#) E-F#-B 
        Pre-coro: B-F#-E-F#
        coro: B-E
        Puente-compraste: E-F#-G#m-D#m-E-F#-G#m-E-F#
        `,
        categorias:["santisimo","precencia"],
        momentoLiturgico: "santisimo"
      },
      {
        titulo: "Gloria a Dios", 
        tono: "A",  
        letra: `
        Gloria, gloria a Dios en el cielo
        y en la tierra paz a los hombres que aman al señorrr
        por tu inmensa gloria te alabamos
        te grarificamos te damos gracias
        amennnn amennn Gloria a Dios en el cieloo
        y en la tierra paz a los hombres que ama el señor
        `,
        acordes: `G  C  D  G `
      },{
        titulo: "Como en el cielo",
        tono: "G",
        letra: `
        La atmósfera cambiando está
        Tu espíritu está aquí
        Es evidente tu mover
        Tu espíritu está aquí(bisx2)

        Llena este lugar
        Derramando tu amor
        Tu amor me envuelve

        He venido por ti
        A tus brazos de amor
        Tu amor me envuelve

        La atmósfera cambiando está
        Tu espíritu está aquí
        Es evidente tu mover
        Tu espíritu está aquí(bisx2)

        Llena este lugar
        Derramando tu amor
        Tu amor me envuelve
        He venido por ti
        A tus brazos de amor
        Tu amor me envuelve(bisx2)
        (Espíritu ven, llena este lugar, uh oh oh) *ministracion expontanea

        Que tu poder, descienda hoy
        Venga tu reino
        Que se haga aquí, tu voluntad
        Como en el cielo (bisx3)
       

        Milagros pueden suceder
        Tu espíritu está aquí
        Es evidente tu mover
        Tu espíritu está aquí (bisx2)

        
        `,
        acordes:`
        Intro:G-D-A
        Verso 1: G-Bm-A
        Puente:G-A-Bm-A
        Instrumental: //// G - Em7 - Bm - A////- G -( A - Bm )- A
        Verso final :G-D-A
      
        `
      },
      {
        titulo: "Dios manda lluvia", 
        tono: "G",  
        letra: `
        Dios, manda lluvia, derrama de tu espíritu
        Desciende hoy tu fuego
        Sana mis heridas, restáurame Señor
         //CORO//
        Manda la lluvia, el rocío de tu amor
        Llenando las vidas de tu pueblo hoy, Señor
        Manda la lluvia, el rocío de tu amor
        Visita hoy mi vida, cámbiame, Señor
        `,
        acordes: `
        Intro: G-Em-C-Am-D-G
        coro(Manda la lluvia):C-D-Bm-Em-Am-D-G
        
        `
      },
      {
        titulo: "Cuerdas de amor", 
        tono: "F",  
        letra: `
        Aunque pase el tiempo, sé
        Que tu promesa cumplirás
        Nada en ti se perderá
        Esa es mi seguridad
        Tus cuerdas de amor
        Cayeron sobre mí
        Tus cuerdas de amor
        Cayeron sobre mí
        Es tu amor que me sostiene
        El que me levanta
        El que me da paz
        Me da seguridad
        Es tu amor que me sostiene
        El que me levanta
        El que me da paz
        Me da seguridad
        De lo que vendrá
        Tú tienes el control
        Nunca pierdes el control
        `,
        acordes: `
        Intro: Dm-Bb-F 
        Pre coro:C-F-C-Dm
        coro(Es tu amor):F-Dm-Am-Bb  
        (de lo que vendra):Gm-Dm-C
        
        `
      },{
        titulo: "Abre los cielos Dios", 
        tono: "C",  
        letra: `
        Ven espíritu, ven
        Has lo que quieras hacer
        Y derrama oh Dios una nueva unción
        Sobre esta nación

        Abre los cielos Dios y que caiga tu lluvia de gloria
        Abre los cielos Dios y que caiga tu lluvia de gloria
        Abre los cielos Dios y que caiga tu lluvia de gloria aquí
        `,
        acordes: `
        Intro: C-F-G-C-Am-F-Am-G
        coro(Abre los cielos):F-G-Em-Am-F-G-C
        
        `
      }
    
    ],
    juan: [
      {
        titulo: "Shema",
        tono: "G",
        letra: `Shema israel alonai eloenu adonai eaaaa
        escucha israel el señor es vuestro Dios uno es el señor
        `,
        acordes: `
        Intro: Em-G-Am-B7-A-Em
        escucha israel: G-Am-C-B7-Em
        `
      },{
        titulo: "Alfa y Omega",
        tono: "A",
        letra: "Señor toma mi vida nueva...",
        acordes: "D  A  Bm  G"



      }
    ],
    luis: [
      {
        titulo: "Muestra me tu gloria",
        tono: "F#",
        letra: `
        Aqui estas, aqui estoy
        doy todo de mi, por todo de ti
        no quiero salir de aqui
        si no haz, de ir junto a mi

        una cosa pedire, solo esto buscare 
        muetrame tu gloria
        eres tu mi gran desero, eres todo lo que anhelo, Jesus 
        Muestrame tu gloria

        Bueno eres, bueno para mi 
        en mi caminar, me dejare guiar
        Por valles bajos, o montes muy altos
        Te seguire, pues nunca me dejaras

        cuan ancho, cuan profundo
        muestrame tu gloria
        mi alma, desfallece 
        Muestrame tu gloria
        
        `,
        acordes: `
        versos: F#-D#m-G#m-F#-C#
        una cosa: F#-D#m-B-F#
        cuan ancho:B-C#-A#m-D#m-C#
        una cosa 2:B-C#-F#-C#-D#m-C#
        
        `
      },
      {
        titulo: `Aleluya-shrek`,
        tono: "C",
        letra: `
        Un soldado a casa hoy regreso
        Y un niño enfermo se curó
        Y hoy ya no hay más sombras que te cubran
        Un desamparado se salvó por causa de una buena acción
        Milagros ocurrer aleluya
        Aleluyah
        Aleluyah
        Aleluyah
        Aleluyah
        `,
        acordes: `
        Intro: C-Am
        verso: F-G-C-G
        verso 2: C-F-G-Am-F-G-Em-Am
        coro (aleluya):F-Am-F-C-G (C)
        `,
        categorias:["eucaristia"],
        momentoLiturgico: "aleluya"
      },
      {
        titulo:"Te alabaran oh Yahve todos los reyes",
        tono:"G",
        letra: ` 
        Te alabaran oh señor todos los reyes 
        todos los reyes de la tierra
        por que han oido los dichos de tu boca
        y cantaran de los caminos de yave
        por que la gloria del señor es grande 
        por que el señor es excelso en sus caminos
        por que el señor atiende al humilde 
        mas mira de lejos al altivo

        alabare.. 

        Demos gracias al señor demos gracias 
        demos gracias por su amor (bisx2)

        En las mañanas las aves cantan 
        las alabanzas al cristo el salvador 
        y por las tardes las flores cantan
        las alabanzas al cristo el salvador
        
        Cuando cristo vino a mi corazon mi vida entera cambio
        su paz y su amor se acercaron a mi se fue la pena y el temor 
                          (bis x2)
        Jesus lo vencio muriendo en la cruz 
        y hoy puedo cantar de su amor

        alabare..

        `,
        acordes: ` 
        Te alabaran: G-D-G
                    C-G-D-G
        demos gracias: C-G-C
                       F-C-G-C
        cuando cristo vino: F-Bb-F-Bb-C
                    su paz: F-Bb-F-Dm-Bb-C-F
           Jesus lo vencio: Bb-C-F-Dm-Bb-C-F
        `,
        categorias:["popurri"]
      },
      {
        titulo:"Cuan grande es Dios",
        tono:"C",
        letra: `
              El esplendor de un Rey
              Vestido en majestad
              La tierra alegre está
              La tierra alegre está

              Cubierto está de luz
              Venció la oscuridad
              Y tiembla a su voz
              Y tiembla a su voz

              Cuan grande es Dios
              Cántale, cuan grande es Dios
              Y todos lo verán
              Cuan grande es Dios

              El esplendor de un Rey
              Vestido en majestad
              La tierra alegre está
              La tierra alegre está

              Cubierto está de luz
              Venció la oscuridad
              Y tiembla a su voz
              Y tiembla a su voz

              Cuan grande es Dios
              Cántale, cuan grande es Dios
              Y todos lo verán
              Cuan grande es Dios

              Cuan grande es Dios
              Cántale, cuan grande es Dios
              Y todos lo verán
              Cuan grande es Dios

              Día a día él está
              Y el tiempo está en él
              Principio y el fin
              Principio y el fin

              La Trinidad en Dios
              El Padre, Hijo, Espíritu
              Cordero y el León
              Cordero y el León

              Cuan grande es Dios
              Cántale, cuan grande es Dios
              Y todos lo verán
              Cuan grande es Dios

              Cuan grande es Dios
              Cántale, cuan grande es Dios
              Y todos lo verán
              Cuan grande es Dios
        `,
        acordes:`
        intro: C-G-Am-F-G
        coro: C-G-Am-F-G-C
        mi corazon:C-F-C-G-F-C
        `,
        categorias:["santisimo","adoracion"]

      },{
        titulo: `Lo haras otra vez`,
        tono: "A",
        letra: `
        Muros rodeando estoy
        Pensé que caerían hoy
        Mas, nunca me has fallado, Dios

        La espera terminará
        Sé que has vencido ya
        Nunca me has fallado, Dios
         //CORO//
        En ti confiaré
        Tu promesa sigue en pie
        Tú eres fiel
        Confiado andaré
        En tus manos estaré
        Siempre has sido fiel
        //VERSO 2//
        La noche acabará
        Tu palabra se cumplirá
        Mi corazón te alabará
        Cristo, mi Salvador
        Cúbreme con tu amor
        Mi corazón te alabará

        //coro//
        //PUENTE//
        Yo sé que tú
        Mueves montañas
        Yo creo en ti
        Sé que lo harás otra vez
        Abriste el mar
        En el desierto
        Yo creo en ti
        Sé que lo harás otra vez
        Yo sé que tú
        Mueves montañas
        Yo creo en ti
        Sé que lo harás otra vez
        Abriste el mar
        En el desierto
        Yo creo en ti
        Sé que lo harás otra vez
        Yo sé que tú
        Mueves montañas
        Yo creo en ti
        Sé que lo harás otra vez
        Abriste el mar
        En el desierto
        Yo creo en ti
        Sé que lo harás otra vez
        Sé que lo harás otra vez
        Oh, oh, oh, oh, oh
       
        `,
        acordes: `
        Intro: D-A
        coro(en ti): F#m-E-A-D
        verso 2: D-A
        puente(yo se que tu):D-E-A
        
        `,
        categorias:["eucaristia"],
        momentoLiturgico: "entrada"
      }
    ],
    antonela:[
      {
        titulo: "Tu me sustentas",
        tono: "A",
        letra: "Que mis manos se desgasten tocando para ti...",
        acordes: "A  E  D  Dm"
      },
      {
        titulo: "Abre los cielos",
        tono: "G",
        letra: `
        Ven, Espíritu, ven
        Haz lo que quieras hacer
        Y derrama, oh, Dios, una nueva unción
        Sobre esta nación (puede borrar eso, dile)
        Ven, Espíritu, ven
        Haz lo que quieras hacer
        Y derrama, oh, Dios, una nueva unción
        Sobre esta nación
        Abre los cielos, Dios, y que caiga tu lluvia de gloria
        Abre los cielos, Dios, y que caiga tu lluvia de gloria
        Abre los cielos, Dios, y que caiga tu lluvia de gloria aquí
        Ven, Espíritu, ven (Oh, ven)
        Haz lo que quieras hacer
        Y derrama, oh, Dios, una nueva unción
        Sobre esta nación
        Abre los cielos, Dios, y que caiga tu lluvia de gloria
        Abre los cielos, Dios, y que caiga tu lluvia de gloria
        Abre los cielos, Dios, y que caiga tu lluvia de gloria aquí
        Abre los cielos, Dios, y que caiga tu lluvia de gloria
        Abre los cielos, Dios, y que caiga tu lluvia de gloria
        Abre los cielos, Dios, y que caiga tu lluvia de gloria aquí`,
        acordes: `
        intro: Dm-C-G-C-Bb-F-Bb-Dm7-Bb-F-C
        coro: A-Bb-C-Am-Dm7-Gm-C-Bb-F
        `,
        categorias:["eucaristia","espiritu"],
        momentoLiturgico:"entrada"
      },
      {
        titulo: "Vine a adorarte",
        tono: "G",
        letra: `
        Tú eres la luz
        Que brilló en las tinieblas
        Abrió mis ojos, pude ver
        Mi corazón
        Adora tu hermosura
        Esperanza de vida eres tú
        Vine a adorarte
        Vine a postrarme
        Vine a decir que eres mi Dios
        Solo tú eres grande
        Solo tú eres digno
        Eres asombroso para mí
        Tú eres el rey
        Grandemente exaltado
        Glorioso por siempre, señor
        Al mundo que creaste
        Humilde viniste
        Y pobre te hiciste por amor
        Vine a adorarte
        Vine a postrarme
        Vine a decir que eres mi Dios
        Solo tú eres grande
        Solo tú eres digno
        Eres asombroso para mí
        Vine a adorarte
        Vine a postrarme
        Vine a decir que eres mi Dios
        Solo tú eres grande
        Solo tú eres digno
        Eres asombroso para mí`,
        acordes: `
        intro:D-A-Bm-G
              D-A-G
        coro: D-A-Bm-G
        `,
        categorias:["santisimo","adoracion"],
        momentoLiturgico: "santisimo"
      }
    ],
    luisa:[
      {
        titulo:"Renueva mi espiritu",
        tono:"E",
        letra:`
                    Verso:
            Lava mi pecado, límpiame Señor
            Borra mis maldades, purificame
            Mi Dios.
            Coro:
            Renueva mi espíritu,
            Dame un nuevo y perfecto corazón
            Renueva mi espíritu,
            No te alejes de mi.
            

            Puente:
            Lléname, lléname de tu Espíritu
          
        `,
        acordes:`
        Tono luisa: E
        verso: E-C#m-A-F#m-B
        coro: E-C#m-A-B
        puente: C#m-B-E-A-F#m-B
        `,
        categorias:["eucaristia","espiritu"],
        momentoLiturgico: "penitencia"
      },{
        titulo:"En el cielo se oye",
        tono:"C",
        letra:`En el cielo se oye 
        en la tierra se canta (Bisx2)

        Vamos todos a alabar al señor 
        con panderas y guitarras (bisx 2)

        Cristo me dijo que luchara otra vez (bisx3)

        que no me desesperara sino que tuviera fe 

        y yo yo yo le estoy alabando (bisx2)

        nosotros no señor a ti es que te toca yo cantare
        lo que pongas en mi boca(bisx2)

        lo que pongas lo que pongas lo que pongas en mi boca 
        yo cantare lo que pongas en mi boca(bisx2)
        
        `
      }
    ],
    karol:[
      {
        titulo: "Tengo Hambre de ti",
        tono: "D",
        letra:  `
        Por un momento en Tu precencia [ah-ahh]
        Por un instante de Tu amor
        Por un destello de Tu gloria
        Por un minuto nada mas

        Todo daria, no importaria
        lo que tenga que pasar
        lo que tenga que esperar...
        Tengo hambre de Ti
        de Tu presencia
        de Tu fragancia
        de Tu poder

        Hambre que duele
        Que debilita
        Que desespera
        Por Ti, Señor Jesus
        Tengo hambre de Ti x2
        
        
        `,
        acordes: `
        D-A-Bm-G
        
        `,
        categorias:["santisimo","presencia"],
        momentoLiturgico: "santisimo"

      }
    ],
    
  };
  // Cargar canciones al HTML
  const cancionesTodas = Object.values(cancionesPorCantante).flat();
  const btnInicio = document.getElementById("btn-inicio");
  const contenedor = document.getElementById("lista-canciones");
  const tituloCantante =document.getElementById("titulo-cantante");
  const input =document.getElementById("buscador");
  const cancionesEucaristia = cancionesTodas.filter(c =>
    c.categorias && c.categorias.includes("eucaristia")
  );
  const momentoEucaristia= document.getElementById("momentoEucaristia");
  btnInicio.addEventListener("click",()=>{
      location.reload();
  });
  // canciones por momento liturgico
  function obtenerCancionesPorMomento(momento) {
    return cancionesTodas.filter(c =>
      c.categorias && c.categorias.includes("eucaristia") &&
      c.momentoLiturgico === momento
    );
  }
  function normalizarTexto(texto) {
    return texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
  }
  //resalta las coincidencias
  function resaltarCoincidencias(textoOriginal, terminoBuscado) {
    const normalizadoOriginal = normalizarTexto(textoOriginal);
    const normalizadoTermino = normalizarTexto(terminoBuscado);
  
    if (!normalizadoTermino) return textoOriginal;
  
    const partes = [];
    let i = 0;
  
    while (i < textoOriginal.length) {
      const segmentoOriginal = textoOriginal.slice(i);
      const segmentoNormalizado = normalizadoOriginal.slice(i);
  
      if (segmentoNormalizado.startsWith(normalizadoTermino)) {
        const matchLength = terminoBuscado.length;
        const originalMatch = textoOriginal.slice(i, i + matchLength);
  
        partes.push(`<span class="resaltado">${originalMatch}</span>`);
        i += matchLength;
      } else {
        partes.push(textoOriginal[i]);
        i++;
      }
    }
  
    return partes.join('');
  }

  let cancionesMostradas=[];  // aquí guardamos las canciones activas
  const ContenedorBtn =document.getElementById("contenerdor-btnes");    
  function mostrarCanciones(nombre) {
    cancionesMostradas = cancionesPorCantante[nombre];
    contenedor.style.display="block";
    ContenedorBtn.style.display="none";
    input.style.display="block";
    input.value= "";
    tituloCantante.textContent="Canciones "+nombre;
    renderizarCanciones(cancionesMostradas);

  }
  function renderizarCanciones(lista, texto = "") {
    const contenedor = document.getElementById("lista-canciones");
    contenedor.innerHTML = "";
    if (lista.length === 0) {
      const mensaje = document.createElement("div");
      mensaje.className = "mensaje-vacio";
      mensaje.textContent = "No se encontraron canciones.";
      contenedor.appendChild(mensaje);
      return; // detenemos aquí
    }

    lista.forEach(cancion => {
      const tituloHTML = resaltarCoincidencias(cancion.titulo, texto);
      const letraHTML = resaltarCoincidencias(cancion.letra, texto);
  
      const div = document.createElement("div");
      div.className = "cancion";
      div.innerHTML = `
        <h2>${tituloHTML}</h2>
        <div class="transponer-container">
                 <span class="tono-original">Tono para:  ${cancion.tono}</span>
                 <label>Transportar a:
                 <select class="tonoSelect">
                 ${tonos.map(t => `<option value="${t}" ${t === cancion.tono ? "selected" : ""}>${t}</option>`).join("")}
                 </select>
                 </label>
        </div>
        <pre class="acordes">${cancion.acordes.trimStart()}</pre>
        <pre class="letra colapsada">${letraHTML}</pre>
        <button class="toggle-letra">Ver más...</button>
      `;
      contenedor.appendChild(div);
    });
    setTimeout(() => {
      document.querySelectorAll(".tonoSelect").forEach((select, i) => {
        const divCancion = select.closest(".cancion");
        const acordesPre = divCancion.querySelector(".acordes");
        const cancion = lista[i]; // ← usamos el índice para tomar la canción original
        const tonoOriginal = cancion.tono;
  
        select.addEventListener("change", () => {
          const tonoNuevo = select.value;
          acordesPre.textContent = transportarAcordePorTono(
            cancion.acordes,
            tonoOriginal,
            tonoNuevo
          );
        });
      });
    }, 0);
    //para el botton de ver mas.. en la letra
    setTimeout(() => {
      document.querySelectorAll(".toggle-letra").forEach(boton => {
        boton.addEventListener("click", () => {
          const letra = boton.previousElementSibling;
    
          letra.classList.toggle("colapsada");
    
          if (letra.classList.contains("colapsada")) {
            boton.textContent = "Ver más...";
          } else {
            boton.textContent = "Ver menos";
          }
        });
      });
    }, 0);
    
  }
  
  // evento para filtrar canciones al escribir
  input.addEventListener("input", e => {
    const texto = normalizarTexto(e.target.value);

    const filtradas = cancionesMostradas.filter(c => {
     return normalizarTexto(c.titulo).includes(texto) ||
           normalizarTexto(c.letra).includes(texto);
    });

    renderizarCanciones(filtradas, e.target.value); // usamos el texto original aquí
  });
  //para transportar tonos
const tonos = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"];

function transportarAcordePorTono(acorde, tonoOriginal, tonoNuevo) {
  const regex = /([A-G](#)?)(m|maj7|7|sus2|sus4|dim|aug|add9|6|9|11|13)?/g;
  const indexOriginal = tonos.indexOf(tonoOriginal);
  const indexNuevo = tonos.indexOf(tonoNuevo);

  if (indexOriginal === -1 || indexNuevo === -1) return acorde;

  const pasos = indexNuevo - indexOriginal;

  return acorde.replace(regex, (match, base, alter, sufijo = "") => {
    let index = tonos.indexOf(base);
    if (index === -1) return match;

    let nuevaIndex = (index + pasos + 12) % 12;
    return tonos[nuevaIndex] + (sufijo || "");
  });
  
}

//para introducir una lista general de todas las canciones
function mostrarCancionesGenerales() {
  cancionesMostradas = cancionesTodas;
  contenedor.style.display="block";
  ContenedorBtn.style.display="none";
  document.getElementById("buscador").style.display = "block";
  document.getElementById("buscador").value = "";
  tituloCantante.textContent="Lista General de Canciones ";
  renderizarCanciones(cancionesMostradas);
}
function obtenerCancionesPorCategoria(categoria) {
  return cancionesTodas.filter(c =>
    c.categorias && c.categorias.includes(categoria)
  );
}
//filtro por categoria de canciones sea eucaristia, eventos santisimo, etc
function mostrarCategoria(categoria) {
  const lista = obtenerCancionesPorCategoria(categoria);
  if(categoria==="eucaristia"){
  	 momentoEucaristia.style.display="block"
  }
  cancionesMostradas = lista;
  contenedor.style.display="block";
  ContenedorBtn.style.display="none";
  document.getElementById("buscador").style.display = "block";
  document.getElementById("buscador").value = "";
  tituloCantante.textContent="Lista de canciones para "+categoria;
  renderizarCanciones(lista);
}


function mostrarMomento(momento) {
  const lista = obtenerCancionesPorMomento(momento);
  cancionesMostradas = lista;
  document.getElementById("buscador").style.display = "block";
  document.getElementById("buscador").value = "";
  tituloCantante.textContent="Canciones para "+momento;
  renderizarCanciones(lista);
}

  